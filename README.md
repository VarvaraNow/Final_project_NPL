# Final_project_NPL
Компания работает  в e-commerce проекте. Бизнес-юнит в процессе обсуждения, закупать ли кликстрим логов посещения некоторого портала другого магазина.

**Цель проекта:** Сформировать понимание, закупать ли бизнес-юниту кликстрим логов посещения некоторого портала другого магазина, что повысит конкуретоспособность компании на рынке.
**Задачи проекта:**
- Создать таблицы в Clickhouse
- Загрузить данные в таблицы Clickhouse с помощью Airflow из Яндекс облака
- Сформировать несколько графиков в Superset и в Power BI

Первоначально данные загружаются в следующие таблицы:
* browser_events — данные с информацией о просмотрах браузера
* device_events — данные об устройствах, с которых пользователи пользовались сайтом
* geo_events — данные о локации пользователя
* location_events —  данные о положении пользователя на сайте и информации о том, откуда пользователь попал на страницу

Информация о факте покупки определяется по столбцу "page_url_path" в таблице "location_events" по значению "/confirmation"- означает, что покупка подтверждена.

В Superset имеются следующие графики:
1. Распределение событий по часам (столбики)
2. Количество купленных товаров в разрезе часа (либо таблица, либо пироги)
3. Топ-10 посещённых страниц, с которых был переход в покупку — список ссылок с количеством покупок

С графиками можно ознакомиться по [ссылке](http://37.139.41.97:8088/superset/dashboard/12/?native_filters_key=rapLFWf1Wzrwao9-ucB0yRgayUFNReIHgv9n_nCy6Pbuj5F6YcKDiA0-LedLzTZk)
